<div class="event-form">
  <%= link_to "Return to pending events",
              internal_events_path, method: :get,
              class: "govuk-back-link" %>
  <h1>
    Provider Event Details
  </h1>

  <%= govuk_form_for @event do |f| %>

    <%= f.govuk_error_summary %>

    <%= f.hidden_field :id %>
    <%= f.govuk_text_field :name, label: { text: 'Event name' } %>
    <%= f.govuk_text_area :summary, label: { text: 'Event summary' } %>
    <%= f.govuk_text_area :description, label: { text: 'Event description' } %>

    <%= f.govuk_text_field :name, label: { text: 'Event name' } %>
    <%= f.govuk_text_field :name, label: { text: 'Event name' } %>
    <%= f.govuk_text_field :name, label: { text: 'Event name' } %>
    <%= f.govuk_text_field :name, label: { text: 'Event name' } %>

    <trix-editor input="x">

      <%= f.govuk_text_field :name, label: { text: 'Event name' } %>
    </trix-editor>

    <%= f.fields_for :building, @event.building do |b| %>
      <%= b.hidden_field :id %>
      <%= b.govuk_radio_buttons_fieldset(:fieldset, legend: { size: 'm', text: 'Select a build or input one' }) do %>
        <%= b.govuk_radio_button :fieldset, 'select', label: { text: 'Search existing venues' } do %>
          <%= b.govuk_collection_select :id,
                                        @buildings,
                                        :id,
                                        ->(building) { "#{building.venue}, #{building.address_postcode}" },
                                        label: { text: 'Search for existing buildings' },
                                        options: { include_blank: "" } %>
        <% end %>
        <%= b.govuk_radio_divider %>
        <%= b.govuk_radio_button :fieldset, 'manual', label: { text: 'Add a new venue' } do %>
          <%= b.govuk_text_field :venue, label: { text: 'Venue' } %>
          <%= b.govuk_text_field :address_line_1, label: { text: 'Address line 1' } %>
          <%= b.govuk_text_field :address_line_2, label: { text: 'Address line 2' } %>
          <%= b.govuk_text_field :address_line_3, label: { text: 'Address line 3' } %>
          <%= b.govuk_text_field :address_postcode, label: { text: 'Postcode' } %>
        <% end %>
      <% end %>
    <% end %>

    <%= f.button "Submit for review", class: "call-to-action-button button" %>

  <% end %>
</div>
